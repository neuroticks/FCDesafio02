version: "3.8"

networks:
  node_nginx_net:
    driver: bridge

services:
    dck_srv_node:
        tty: true
        env_file: .env
        image: node_alpine_image
        build:
            context: ./node_app_folder
            dockerfile: ./Dockerfile.node
        container_name: ${NODE_APP_SERVER_HOST}
        ports:
            - ${NODE_APP_SERVER_PORT}:${NODE_APP_SERVER_PORT}
        networks:
        - node_nginx_net

    dck_srv_nginx:
        tty: true
        env_file: .env
        image: nginx_alpine_image
        restart: always
        build:
            context: ./nginx_folder
            dockerfile: ./Dockerfile.nginx
        container_name: ${NGINX_SRV_HOST}
        networks:
        - node_nginx_net
        ports:
            - ${NGINX_SRV_PORT}:${NGINX_SRV_PORT}
